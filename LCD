#include <PIC18F458.h>
#define ldata PORTB
#define rs PORTCbits.RC1
#define en PORTCbits.RC0

void delay();
void lcdcmd(unsigned char);
void lcdval(unsigned char);

void main() {
    unsigned char xc;
    TRISB = 0;
    TRISC = 0;

    lcdcmd(0x38);
    lcdcmd(0x0E);
    lcdcmd(0x01);
    lcdcmd(0x06);
    lcdcmd(0xC0);

    lcdval('H');
    lcdval('E');
    lcdval('L');
    lcdval('L');
    lcdval('O');

    while (1);
}

void lcdcmd(unsigned char y) {
    rs = 0;
    ldata = y;
    en = 1;
    delay();
    en = 0;
    delay();
}

void lcdval(unsigned char y) {
    rs = 1;
    ldata = y;
    en = 1;
    delay();
    en = 0;
    delay();
}

void delay() {
    for (int i = 0; i <= 2000; i++);
}
